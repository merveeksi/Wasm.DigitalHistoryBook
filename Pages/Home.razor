@page "/"
@inject NavigationManager Navigation

<div class="relative">
    <div class="absolute inset-0">
        <img src="img/image1.jpg" class="w-full h-full object-cover" style="opacity: 0;" @ref="image1" />
        <img src="img/image2.jpg" class="w-full h-full object-cover" style="opacity: 0;" @ref="image2" />
        <img src="img/image3.jpg" class="w-full h-full object-cover" style="opacity: 0;" @ref="image3" />
        <img src="img/image4.jpg" class="w-full h-full object-cover" style="opacity: 0;" @ref="image4" />
        <img src="img/image5.jpg" class="w-full h-full object-cover" style="opacity: 0;" @ref="image5" />
        <img src="img/image6.jpg" class="w-full h-full object-cover" style="opacity: 0;" @ref="image6" />
    </div>
    <div class="overlay bg-black bg-opacity-50 h-full w-full flex flex-col items-center justify-center">
        <h1 class="text-white text-4xl font-bold mb-4">Dijital Hikaye Kitabı</h1>
        <div class="flex mb-4">
            <input type="text" placeholder="Aramak istediğiniz kitabın ismi" class="input input-bordered" />
            <button class="btn btn-primary ml-2">Ara</button>
        </div>
        <button class="btn btn-secondary">Kitap Arama</button>
        <div class="mt-4">
            <button class="btn btn-outline">Giriş Yap</button>
        </div>
    </div>
</div>

<div class="grid grid-cols-3 gap-4 mt-4">
    <div class="bg-white p-4 rounded-lg shadow-md text-center">
        <h2 class="text-2xl font-semibold text-orange-600">64K</h2>
        <p class="text-gray-500">Hikaye</p>
    </div>
    <div class="bg-white p-4 rounded-lg shadow-md text-center">
        <h2 class="text-2xl font-semibold text-orange-600">311M</h2>
        <p class="text-gray-500">Okuma</p>
    </div>
    <div class="bg-white p-4 rounded-lg shadow-md text-center">
        <h2 class="text-2xl font-semibold text-orange-600">373</h2>
        <p class="text-gray-500">Dil</p>
    </div>
</div>

<h2 class="text-2xl font-bold mt-8">Kategori</h2>
<div class="grid grid-cols-4 gap-4 mt-4">
    <button class="btn btn-outline">Roman</button>
    <button class="btn btn-outline">Aşk</button>
    <button class="btn btn-outline">Popüler Bilim</button>
    <button class="btn btn-outline">Felsefe</button>
    <button class="btn btn-outline">Şiir</button>
    <button class="btn btn-outline">Bilim</button>
    <button class="btn btn-outline">Çocuk Edebiyatı</button>
    <button class="btn btn-outline">Kişisel Gelişim</button>
    <button class="btn btn-outline">Gençlik</button>
    <button class="btn btn-outline">Gizem</button>
    <button class="btn btn-outline">Maceralar</button>
    <button class="btn btn-outline">Bilimkurgu</button>
</div>

<h2 class="text-2xl font-bold mt-8">En Çok Sevilenler</h2>
<div class="grid grid-cols-4 gap-4 mt-4">
    <div class="card bg-base-100 shadow-md">
        <div class="card-body">
            <h3 class="font-bold">Beyza Aksoy "Siyam 4 - Mare" PDF</h3>
        </div>
    </div>
    <div class="card bg-base-100 shadow-md">
        <div class="card-body">
            <h3 class="font-bold">Sally Rooney "Normal İnsanlar" PDF</h3>
        </div>
    </div>
    <div class="card bg-base-100 shadow-md">
        <div class="card-body">
            <h3 class="font-bold">Barbara Vine "Karanlıktaki Gözler" PDF</h3>
        </div>
    </div>
    <div class="card bg-base-100 shadow-md">
        <div class="card-body">
            <h3 class="font-bold">Freida Mcfadden "Hizmetçi İzliyor" PDF</h3>
        </div>
    </div>
</div>

<footer class="footer bg-neutral text-neutral-content items-center p-4">
    <aside class="grid-flow-col items-center">
        <p>Copyright © {new Date().getFullYear()} - All rights reserved</p>
    </aside>
</footer>

@code {
    private ElementReference image1;
    private ElementReference image2;
    private ElementReference image3;
    private ElementReference image4;
    private ElementReference image5;
    private ElementReference image6;
    private int currentImageIndex = 0;
    private List<string> images = new List<string> 
    { 
        "img/image1.jpg", 
        "img/image2.jpg", 
        "img/image3.jpg", 
        "img/image4.jpg", 
        "img/image5.jpg", 
        "img/image6.jpg" 
    };

    protected override async Task OnInitializedAsync()
    {
        await ChangeBackgroundImage();
    }

    private async Task ChangeBackgroundImage()
    {
        while (true)
        {
            currentImageIndex = (currentImageIndex + 1) % images.Count;
            await InvokeAsync(() => UpdateImageOpacity());
            await Task.Delay(3000); // 3 saniye bekle
        }
    }

    private void UpdateImageOpacity()
    {
        // Opaklık güncelleme işlemi
        // Burada JavaScript ile opacity değişimi yapılabilir
    }
}
